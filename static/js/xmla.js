/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./js-src/catalog/cart.js":
/*!********************************!*\
  !*** ./js-src/catalog/cart.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Cart: () => (/* binding */ Cart)\n/* harmony export */ });\n/* harmony import */ var _templater_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../templater.js */ \"./js-src/templater.js\");\n/* harmony import */ var _services_toolsService_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/toolsService.js */ \"./js-src/services/toolsService.js\");\n/* harmony import */ var _services_productsService_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/productsService.js */ \"./js-src/services/productsService.js\");\n\n\n\n\nclass Cart {\n\n\tshowhidecart = function(e){\n\t\tlet cartEl = document.querySelector(\".cart-main\");\n\t\t\n\t\tif (this.main.cart.length > 0){\n\t\t\tthis.main.cartshown ? (this.main.cartshown = false, cartEl.classList.add(\"hide\")): (this.main.cartshown = true, cartEl.classList.remove(\"hide\"));\n\t\t\treturn false;\n\t\t} else {\n\t\t\tthis.main.cartshown = false;\n\t\t\tcartEl.classList.add(\"hide\");\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tcartItemsHtml = function(){\n\t\tlet html = \"\";\n\t\t\n\t\tfor (let p of this.main.cart) { \n\t\t\tlet thtml = _templater_js__WEBPACK_IMPORTED_MODULE_0__.Templater.templates[\"product-card-cart\"];\n\t\t\thtml += _templater_js__WEBPACK_IMPORTED_MODULE_0__.Templater.template(thtml, p)\n\t\t}\n\t\treturn html;\n\t}\n\n\tcartItemsImgsHtml = function(){\n\t\tlet html = \"\";\n\t\t\n\t\tfor (let p of this.main.cart) { \n\t\t\tlet thtml = _templater_js__WEBPACK_IMPORTED_MODULE_0__.Templater.templates[\"product-card-cart-imgs\"];\n\t\t\thtml += _templater_js__WEBPACK_IMPORTED_MODULE_0__.Templater.template(thtml, p)\n\t\t}\n\t\treturn html;\n\t}\n\n\tcalcCart = function(){\n\t\tlet sum = 0;\n\t\tfor (let p of this.main.cart){\n\t\t\tsum += p.price*1\n\t\t}\n\t\treturn sum.toFixed(2);\n\t}\n\n\tcolorCart = function(){\n\t\tthis.main.cartTitleEl.style.backgroundColor = this.cartBColor;\n\t\tthis.main.cartTitleEl.style.color = this.cartColor;\n\t}\n\n\tcartReload = function(){\n\t\tlet self = this;\n\n\t\tif (self.main.cart.length == 0) {\n\t\t\tself.cartBColor = \"transparent\";\n\t\t\tself.cartColor = \"black\";\n\t\t\tself.colorCart();\n\t\t\t\n\t\t\tself.main.cartshown = false;\n\t\t\t\n\t\t\tlet cartEl = document.querySelector(\".cart-main\");\n\t\t\tcartEl.classList.add(\"hide\");\n\t\t} else {    \n\t\t\tself.cartBColor = _services_toolsService_js__WEBPACK_IMPORTED_MODULE_1__.ToolsService.getFromWarmColors();\n\t\t\tself.cartColor = \"white\"; \n\t\t\tself.colorCart();\n\t\t\t\n\t\t\tself.main.cartItemsSection.innerHTML = self.cartItemsHtml();\t\n\t\t\tself.main.cartItemsImgsSection.innerHTML = self.cartItemsImgsHtml();\t\t\n\t\t\tself.main.cartTotalEl.innerHTML = \"Итого: \" + self.calcCart(); \n\t\t\t\t\t\n\t\t\tlet cartCrosses = document.querySelectorAll(\".cart-items .container .remove-cross,.container-imgs .remove-cross\");\n\t\t\tfor(let c of cartCrosses){\n\t\t\t\tc.addEventListener(\"click\", function(e){\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tlet p = JSON.parse(unescape(this.parentElement.getAttribute(\"data-src\")));\n\n\t\t\t\t\t_services_productsService_js__WEBPACK_IMPORTED_MODULE_2__.ProductsService.removeProduct(p.id, function(data){\n\t\t\t\t\t\tif (data.status == \"ok\"){\n\t\t\t\t\t\t\tfor (let key in self.main.cart) {\n\t\t\t\t\t\t\t\tif (self.main.cart[key].id == p.id) {\n\t\t\t\t\t\t\t\t\tself.main.cart.splice(key, 1);\n\t\t\t\t\t\t\t\t\tself.main.catModule.removeBadge(p.id);\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tself.cartReload();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t}\n\t\t\t\n\t\t\tself.main.cartItemsMessageEl.innerHTML = self.main.cart.length;\t\t\n\t\t}\n\t}\n\n\tpinModule = function(main){\n\t\tthis.main = main;\n\t}\n}\n\n\n\n\n//# sourceURL=webpack://xmla/./js-src/catalog/cart.js?\n}");

/***/ }),

/***/ "./js-src/catalog/catalog.js":
/*!***********************************!*\
  !*** ./js-src/catalog/catalog.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Catalog: () => (/* binding */ Catalog)\n/* harmony export */ });\n/* harmony import */ var _services_productsService_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../services/productsService.js */ \"./js-src/services/productsService.js\");\n/* harmony import */ var _services_usersService_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/usersService.js */ \"./js-src/services/usersService.js\");\n/* harmony import */ var _templater_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../templater.js */ \"./js-src/templater.js\");\n/* harmony import */ var _cart_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./cart.js */ \"./js-src/catalog/cart.js\");\n\n\n\n\n\nclass Catalog {\n\tbigProduct = function(){\n\t\tlet thtml = _templater_js__WEBPACK_IMPORTED_MODULE_2__.Templater.templates[\"product-card-big\"];\n\t\treturn _templater_js__WEBPACK_IMPORTED_MODULE_2__.Templater.template(thtml, this.main.products[0])\n\t}\n\n\tfiltersItems = function(){\n\t\tlet thtml = _templater_js__WEBPACK_IMPORTED_MODULE_2__.Templater.templates[\"filters-item\"];\n\t\tlet html = \"\";\n\t\t\n\t\tfor (let f of this.main.filters) {\n\t\t\thtml += _templater_js__WEBPACK_IMPORTED_MODULE_2__.Templater.template(thtml, f)\n\t\t}\n\t\treturn html;\n\t}\n\n\tremoveBadge = function(id){\n\t\tdocument.querySelector(\".products-list #id\" + id + \" .product-card__badge\").innerHTML = \"\";\n\t\tlet p = document.querySelector(\".products-list #id\" + id);\n\t\tp.classList.remove(\"added\");\n\t\t\n\t\tlet buy = document.querySelector(\".products-list #id\" + id + \" .product-card__buy\");\n\t\tbuy.classList.remove(\"added\");\n\t\tbuy.innerHTML = \"купить\";\t\n\t}\n\n\tinitCatalogEvents = function(){\n\t\tlet self = this;\n\n\t\tlet productscardsbuy = document.querySelectorAll(\".product-card .product-card__buy\");\n\t\t\n\t\tfor (let el of productscardsbuy){\n\t\t\tel.addEventListener(\"click\", function(e){\t\t\n\t\t\t\te.stopPropagation();\n\n\t\t\t\tlet p = JSON.parse(unescape(this.parentElement.getAttribute(\"data-src\")));\n\n\t\t\t\t_services_productsService_js__WEBPACK_IMPORTED_MODULE_0__.ProductsService.addProduct(p.id, function(data){\n\t\t\t\t\tif (data.status == \"ok\") {\n\t\t\t\t\t\tif (el.className.indexOf(\"added\") != -1) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tel.innerHTML = \"добавлено\";\n\t\t\t\t\t\tel.classList.add(\"added\");\n\t\t\t\t\t\t\n\t\t\t\t\t\tself.main.cart.push(p);\n\t\t\t\t\t\tself.main.cartModule.cartReload();\t\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t});\n\t\t}\t\n\t\t\n\t\tlet productscards = document.querySelectorAll(\".product-card.catalog-card\");\n\t\t\n\t\tfor (let el of productscards){\n\t\t\tel.addEventListener(\"click\", function(e){\n\t\t\t\tlet p = JSON.parse(unescape(this.getAttribute(\"data-src\")));\n\t\t\t\tself.main.showModal(p);\n\t\t\t});\n\t\t}\t\n\t\t\n\t\tself.main.cartHeader.addEventListener(\"click\", function(e){\n\t\t\tself.main.cartModule.showhidecart();\n\t\t});\n\t\t\n\t\tself.main.cartTotalEmailOkEl.addEventListener(\"click\", function(e){\t\n\t\t\te.stopPropagation();\n\t\t\tlet email = self.main.emailEl.value;\n\t\t\t\n\t\t\t_services_usersService_js__WEBPACK_IMPORTED_MODULE_1__.UsersService.postEmail(email, function(userId){\n\t\t\t\tself.main.userId = userId;\n\t\t\t\tself.main.email = email;\n\t\t\t\t\n\t\t\t\tself.main.showEmail();\n\t\t\t})\n\t\t});\n\t\t\n\t\tself.main.cartTotalBuyEl.addEventListener(\"click\", function(e){\t\n\t\t\te.stopPropagation();\n\t\t\tlet ids = [];\n\n\t\t\tself.main.cartTotalBuyEl.classList.add(\"hide\");\n\t\t\tself.main.cartTotalLoadingEl.classList.remove(\"hide\");\n\n\t\t\tfor (let p of self.main.cart) {\n\t\t\tids.push(p.id)\n\t\t\t}\n\n\t\t\tlet opts = {}\n\t\t\topts.ids = ids;\n\t\t\topts.userid = self.main.userId;\n\n\t\t\t_services_productsService_js__WEBPACK_IMPORTED_MODULE_0__.ProductsService.makeOrder(opts, function(data){     \n\t\t\t\tself.main.cartTotalLoadingEl.classList.add(\"hide\");\n\n\t\t\t\tif (data.orderId) {\n\t\t\t\tself.main.cartTotalGreetingsOrderEl.innerHTML = \"#\" + data.orderId;\n\t\t\t\tself.main.cartTotalGreetingsEl.classList.remove(\"hide\");\n\t\t\t\tself.main.orderId = data.orderId;\n\t\t\t\t}\n\n\t\t\t\tlet crosses = document.querySelectorAll(\".cart-main .product .remove-cross\");\n\t\t\t\tfor (let c of crosses) {\n\t\t\t\t\tc.classList.add(\"hide\");\n\t\t\t\t}            \n\t\t\t})\n\t\t});\n\t\t\n\t\tself.main.cartTotalGreetingsOrderCancelEl.addEventListener(\"click\", function(e){\t\n\t\t\te.stopPropagation();\n\t\t\t\n\t\t\tlet opts = {}\n\t\t\tlet ids = []\n\n\t\t\tfor (let p of self.main.cart) {\n\t\t\tids.push(p.id)\n\t\t\t}\n\n\t\t\topts.ids = ids;\n\t\t\topts.userid = self.main.userId;\n\t\t\topts.orderid = self.main.orderId;\n\n\t\t\t_services_productsService_js__WEBPACK_IMPORTED_MODULE_0__.ProductsService.cancelOrder(opts, function(data){\n\t\t\tif (data.status == \"ok\") {          \t\n\t\t\t\tself.main.cartTotalBuyEl.classList.remove(\"hide\");\n\t\t\t\tself.main.cartTotalGreetingsEl.classList.add(\"hide\"); \n\t\t\t\t\n\t\t\t\tlet crosses = document.querySelectorAll(\".cart-main .product .remove-cross\");\n\t\t\t\tfor (let c of crosses) {\n\t\t\t\t\t\tc.classList.remove(\"hide\");\n\t\t\t\t}\n\t\t\t}\n\t\t\t}, 3000)\n\t\t});\n\t\t\n\t\tlet product = self.main.catalogEl.getAttribute(\"showThisProduct\");\n\t\tif (!!product) {\t\t\n\t\t\tfor (let p of self.main.products) {\n\t\t\t\tif (product.indexOf(p.id) != -1) {\n\t\t\t\t\tself.main.showModal(p);\n\t\t\t\t\tself.main.catalogEl.setAttribute(\"showThisProduct\", null)\n\t\t\t\t}\n\t\t\t}\n\t\t}\t\n\t\t\n\t\tlet catalogFiltersEls = document.querySelectorAll(\".fblock .filters-item\");\n\t\tfor(let cf of catalogFiltersEls){\n\t\t\tcf.addEventListener(\"click\", function(e){\n\t\t\t\te.stopPropagation();\n\t\t\t\tlet type = this.innerHTML == \"Все\" ? \"\": this.innerHTML;\t\t\t\n\t\t\t\tself.loadCatalog(type);\n\t\t\t});\n\t\t} \t\n\t}\n\n\tdrawCatalog = function(){\n\t\tlet productsHtml = this.drawProducts(this.main.products);\n\t\tthis.main.productsSection.innerHTML = productsHtml;\n\t\t\n\t\tlet bigProductHtml = this.bigProduct();\n\t\tthis.main.bigProductEl.innerHTML = bigProductHtml;\n\t\t\n\t\tlet filtersHtml = this.filtersItems();\n\t\tthis.main.fBlockEl.innerHTML = filtersHtml;\n\t}\n\n\tdrawProducts = function(products){\n\t\tlet html = \"\";\n\n\t\tfor (let p of products) { \n\t\t\tp.added = \"\";\n\t\t\tlet thtml = _templater_js__WEBPACK_IMPORTED_MODULE_2__.Templater.templates[\"product-card\"];\n\t\t\tfor (let product of this.main.cart){\n\t\t\t\tif (product.id == p.id) {\n\t\t\t\t\tp.badge = \"добавлено\"\n\t\t\t\t\tp.added = \"added\"\n\t\t\t\t}\n\t\t\t}\t\t\n\t\t\thtml += _templater_js__WEBPACK_IMPORTED_MODULE_2__.Templater.template(thtml, p)\n\t\t}\n\t\treturn html;\n\t}\n\n\n\tloadCatalog = function(type){\n\t\tlet self = this;\n\n\t\t_services_productsService_js__WEBPACK_IMPORTED_MODULE_0__.ProductsService.getAllProducts(function(data, cart){\n\t\t\tif (!!type){     \n\t\t\t\thistory.pushState({}, \"\", \"/catalog/filter/\" +type);\n\t\t\t} else {\n\t\t\t\thistory.pushState({}, \"\", \"/catalog/\");\n\t\t\t}  \n\t\t\t\n\t\t\tself.main.products = data;            \n\t\t\tself.main.filters = _services_productsService_js__WEBPACK_IMPORTED_MODULE_0__.ProductsService.config.filters.split(\"|\");\n\t\t\tself.main.filters.push(\"Все\");\n\t\t\tself.main.cart = cart;\n\t\t\t\t\t\t\n\t\t\tself.drawCatalog();            \n\t\t\tself.initCatalogEvents();\n\n\t\t\tself.main.cartModule.cartReload();\t\n\t\t}, type);\n\t}\n\n\tpinModule = function(main){\n\t\tthis.main = main;\n\t}\n}\n\n\n\n\n//# sourceURL=webpack://xmla/./js-src/catalog/catalog.js?\n}");

/***/ }),

/***/ "./js-src/index.js":
/*!*************************!*\
  !*** ./js-src/index.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _templater_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./templater.js */ \"./js-src/templater.js\");\n/* harmony import */ var _catalog_catalog_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./catalog/catalog.js */ \"./js-src/catalog/catalog.js\");\n/* harmony import */ var _catalog_cart_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./catalog/cart.js */ \"./js-src/catalog/cart.js\");\n/* harmony import */ var _services_toolsService_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./services/toolsService.js */ \"./js-src/services/toolsService.js\");\n\n\n\n\n\n\nclass Main {\n\n\tcartshown = false;\n\tcart = [];\n\temail = \"\";\n\n\tshowEmail = function(){\n\t\tthis.emailHeaderEl.innerHTML = this.email;\n\t\tthis.emailHeaderEl.classList.remove(\"hide\");\n\t\t\n\t\tthis.cartTotalEmailContainerEl.classList.add(\"hide\");\n\t\tthis.cartTotalConfirmContainerEl.classList.remove(\"hide\");\n\t}\n\n\tshowModal = function(p){\n\t\tlet self = this;\n\n\t\tself.modalEl.classList.remove(\"hide\");\n\t\t\n\t\tlet thtml = _templater_js__WEBPACK_IMPORTED_MODULE_0__.Templater.templates[\"product-card-modal\"];\n\t\tlet html = _templater_js__WEBPACK_IMPORTED_MODULE_0__.Templater.template(thtml, p);\n\t\t\n\t\tself.modalContentEl.innerHTML = html;\n\t\tdocument.querySelector(\".modal .close\").addEventListener(\"click\", function(e){\t\t\n\t\t\tself.modalEl.classList.add(\"hide\");\n\t\t\thistory.pushState({}, \"\", window.history.state.prevUrl);\n\t\t});\t\n\t\t\n\t\tlet itempage = \"/catalog/details/\" + p.id + \".xml\";\n\t\t\t\t\n\t\tif (itempage == location.pathname) {\n\t\t\thistory.pushState({prevUrl: \"/catalog/\" }, \"\", itempage);\n\t\t} else {\n\t\t\thistory.pushState({prevUrl: location.pathname }, \"\", itempage);\n\t\t}\n\t}\n\n\tinitElements = function(){\n\t\tthis.productsSection = document.getElementsByClassName(\"products-list\")[0];\n\t\tthis.cartItemsSection = document.querySelector(\".cart-items .container\");\n\t\tthis.cartItemsImgsSection = document.querySelector(\".cart-main .container-imgs\");\n\t\tthis.cartTotalEl = document.querySelector(\".cart-total__price\");\n\t\tthis.cartTotalEmailOkEl = document.querySelector(\".cart-total__email-ok\");\n\t\tthis.cartTotalEmailContainerEl = document.querySelector(\".cart-total__email-container\");\n\t\tthis.cartTotalConfirmContainerEl = document.querySelector(\".cart-total__confirm-container\");\n\t\tthis.cartTotalLoadingEl = document.querySelector(\".cart-total__loading\");\n\t\tthis.cartTotalGreetingsEl = document.querySelector(\".cart-total__greetings\");\n\t\tthis.cartTotalGreetingsOrderEl = document.querySelector(\".cart-total__greetings-order b\");\n\t\tthis.cartTotalGreetingsOrderCancelEl = document.querySelector(\".cart-total__greetings-order .cancel-cross\");\n\t\tthis.cartTotalBuyEl= document.querySelector(\".cart-total__confirm\");\n\t\tthis.cartHeader = document.querySelector(\".cart\");\n\t\tthis.emailEl = document.querySelector(\".cart-total__email\");\n\t\tthis.emailHeaderEl = document.querySelector(\".email\");\n\t\tthis.bigProductEl = document.querySelector(\".product-card--big\");\n\t\tthis.fBlockEl = document.querySelector(\".fblock\");\n\t\tthis.modalContentEl = document.querySelector(\".modal-content\");\n\t\tthis.modalEl = document.querySelector(\".modal\");\n\t\tthis.catalogEl = document.querySelector(\".catalog\");\n\t\tthis.catalogTitleEl = document.querySelector(\".title-327\");\n\t\tthis.cartTitleEl = document.querySelector(\".cart .cart__title\");\n\t\tthis.cartItemsMessageEl = document.querySelector(\".cart-items__message span\");\t\n\t\t\n\t\tthis.catalogTitleEl.style.backgroundColor = _services_toolsService_js__WEBPACK_IMPORTED_MODULE_3__.ToolsService.getFromWarmColors();\n\t\tthis.catalogTitleEl.style.color = \"white\";\n\t}\n\n\tloadModules = function(){\t\t\n\t\tlet cat = new _catalog_catalog_js__WEBPACK_IMPORTED_MODULE_1__.Catalog();\n\t\tcat.pinModule(this);\n\t\tthis.catModule = cat;\t\n\n\t\tlet cart = new _catalog_cart_js__WEBPACK_IMPORTED_MODULE_2__.Cart();\n\t\tcart.pinModule(this);\t\n\t\tthis.cartModule = cart;\t\t\t\n\n\t\tlet type = this.setthisfilters ? this.setthisfilters : \"\";\n    \tcat.loadCatalog(type);\n\t}\n}\n\nlet init = function(){\t\n\t_templater_js__WEBPACK_IMPORTED_MODULE_0__.Templater.makeTemplates(document.getElementsByClassName(\"template\"));\n\n\tlet main = new Main();\n\n\tmain.initElements();\t\n\tmain.setthisfilters = main.catalogEl.getAttribute(\"setthisfilters\");\n\n\tmain.loadModules();\t \t\t\t\n}\n\n\ndocument.addEventListener(\"DOMContentLoaded\", (event) => {\n\tinit();\n});\n\n\n\n//# sourceURL=webpack://xmla/./js-src/index.js?\n}");

/***/ }),

/***/ "./js-src/services/ajaxService.js":
/*!****************************************!*\
  !*** ./js-src/services/ajaxService.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AjaxService: () => (/* binding */ AjaxService)\n/* harmony export */ });\nlet AjaxService = {\n  doAjax: function(url, cb){\n    var xhttp = new XMLHttpRequest();\n\n    xhttp.onreadystatechange = function() {\n      if (this.readyState == 4 && this.status == 200) {\n        let data = JSON.parse(this.response);\n        cb(data);\n      }\n    }\n\n    xhttp.open(\"GET\", url, true);\n    xhttp.send();\n  },\n  doAjaxPost: function(url, data, cb){\n    var xhttp = new XMLHttpRequest();\n    xhttp.onreadystatechange = function() {\n      if (this.readyState == 4 && this.status == 200) {\n        let data = JSON.parse(this.response);\n        cb(data);\n      }\n    }\n    xhttp.open(\"POST\", url, true);\n    xhttp.send(data);\n  }\n}\n\n\n\n\n//# sourceURL=webpack://xmla/./js-src/services/ajaxService.js?\n}");

/***/ }),

/***/ "./js-src/services/productsService.js":
/*!********************************************!*\
  !*** ./js-src/services/productsService.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ProductsService: () => (/* binding */ ProductsService)\n/* harmony export */ });\n/* harmony import */ var _toolsService_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./toolsService.js */ \"./js-src/services/toolsService.js\");\n/* harmony import */ var _ajaxService_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ajaxService.js */ \"./js-src/services/ajaxService.js\");\n\n\n\nlet ProductsService = {\n\tpicSize: 180,\n\tcategories: [],\n\tconfig: {},\n\tproducts: [],\n\tproductsAll: [],\n\tfilters: [],\n\tpreid: 0,\n\tgetByApiAll: function(cb, type = \"\"){\t\t\n\t\tif (this.preid == 0){\n\t\t\tthis.preid = _toolsService_js__WEBPACK_IMPORTED_MODULE_0__.ToolsService.getRandom(100000, 999999);\n\t\t}\n\n\t\tlet products = [];\n\t\tlet self = this;\n\n\t\tlet fdata = new FormData();\n\t\tfdata.append(\"type\", type);\n\t\tfdata.append(\"preid\", this.preid);\n\n        _ajaxService_js__WEBPACK_IMPORTED_MODULE_1__.AjaxService.doAjaxPost(\"/catalog/out/\", fdata, function(data){\n\t\t\tlet productsAll = data.products;\n\t\t\tself.config = data.config;\n\t\t\tself.preid = data.preid;\n\t\t\t\n\t\t\tfor (var i of productsAll) {\n\t\t\t\tlet product = i;\n\t\t\t\tproduct.badge = \"\";\n\n\t\t\t\tif (product){\n\t\t\t\t\t\tproduct.id = product[self.config.id].trim();\n\t\t\t\t\t\tproduct.name = product[self.config.name];\n\t\t\t\t\t\tproduct.description = product[self.config.description];\n\t\t\t\t\t\tproduct.price = product[self.config.price]*1;\n\t\t\t\t\t\tproduct.pic = [];\n\n\t\t\t\t\t\tfor (let i=1; i <= product[self.config.pics]*1; i += 1){\n\t\t\t\t\t\t\tlet istr = product.id + (i != 1 ? \".\"+i :\"\") + \".png\";\n    \t\t\t\t\t\tproduct.pic.push(\"/static/pics/\" + istr);\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tproducts.push(product);\n\t\t\t}\n\n\t\t\tlet cart = data.cart;\n\t\t\tcb(products, cart)\n\t\t})\n\t},\n\tgetTotalPrice: function() {\n\t\tlet sum = 0;\n\t\tfor(let i of this.products) {\n\t\t\tsum += i.price;\n\t\t}\n\t\treturn parseFloat(sum).toFixed(2);\n\t},\n\tgetCurrentProducts: function() {\n       return this.products = (this.products.length > 0 ? this.products : []);\n   },\n\tgetAllProducts: function(cb, type = \"\") {\n\t\tlet self = this;\n\t\tthis.getByApiAll(function(data, cart){\n\t\t\tself.productsAll = data;\n\t\t\tcb(data, cart)\n\t\t}, type);\n\t},\n\taddProduct: function(id, cb) {\t\n\t\tif (this.preid == 0){\n\t\t\tthis.preid = _toolsService_js__WEBPACK_IMPORTED_MODULE_0__.ToolsService.getRandom(100000, 999999);\n\t\t}\n\n\t\tlet fdata = new FormData();\n\t\tfdata.append(\"id\", id);\n\t\tfdata.append(\"preorderid\", this.preid);\n\t\tfdata.append(\"pre\", true);\n\t\t_ajaxService_js__WEBPACK_IMPORTED_MODULE_1__.AjaxService.doAjaxPost(\"/catalog/preorder/\", fdata, function(data){\n\t\t\tcb(data)\n\t\t})\n\t},\n\tremoveProduct: function(id, cb) {\t\n\t\tlet fdata = new FormData();\n\t\tfdata.append(\"id\", id);\n\t\tfdata.append(\"repre\", true);\n\t\tfdata.append(\"preorderid\", this.preid);\n\t\t_ajaxService_js__WEBPACK_IMPORTED_MODULE_1__.AjaxService.doAjaxPost(\"/catalog/preorder/\", fdata, function(data){\n\t\t\tcb(data)\n\t\t})\n\t},\n\tmakeOrder: function(opts, cb) {\n\t\tlet idsstr = \"\";\n\t\tlet i = 0;\n\t\tfor (let id of opts.ids) {\n\t\t\tidsstr = idsstr + ((i != 0) ? \"-\": \"\") + id;\n\t\t\ti += 1;\n\t\t}\n\t\tlet fdata = new FormData();\n\t\tfdata.append(\"ids\", idsstr);\n\t\tfdata.append(\"preorderid\", this.preid);\n\t\tfdata.append(\"userid\", opts.userid);\n\t\t_ajaxService_js__WEBPACK_IMPORTED_MODULE_1__.AjaxService.doAjaxPost(\"/catalog/order/\", fdata, function(data){\n\t\t\tcb(data)\n\t\t})\n\t},\n\tcancelOrder: function(opts, cb) {\n\t\tlet fdata = new FormData();\n\t\t\n\t\tfdata.append(\"ids\", opts.ids);\n\t\tfdata.append(\"preorderid\", this.preid);\n\t\tfdata.append(\"userid\", opts.userid);\n\t\tfdata.append(\"orderid\", opts.orderid);\n\t\t\n\t\t_ajaxService_js__WEBPACK_IMPORTED_MODULE_1__.AjaxService.doAjaxPost(\"/catalog/order/\", fdata, function(data){\n\t\t\tcb(data)\n\t\t})\n\t}\n};\n\n\n\n\n//# sourceURL=webpack://xmla/./js-src/services/productsService.js?\n}");

/***/ }),

/***/ "./js-src/services/toolsService.js":
/*!*****************************************!*\
  !*** ./js-src/services/toolsService.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ToolsService: () => (/* binding */ ToolsService)\n/* harmony export */ });\nlet ToolsService = {\n\tdoByClassName: function(className, cb) {\n\t\tlet elems = document.getElementsByClassName(className);\n\n    \tfor (let i = 0; i < elems.length; i += 1) {\n    \t\tlet elemItem = elems[i];\n    \t\tcb(elemItem);\n    \t}\n\n    \treturn  elems;\n\t},\n\tgetRandomNumber: function() {\n\t\treturn Math.floor((Math.random() * 9999999) + 1111111);\n\t},\n\tgetRandomFloat: function(min, max, decimals) {\n  \t\tlet str = (Math.random() * (max - min) + min).toFixed(decimals);\n  \t\treturn parseFloat(str);\n\t},\n\tgetRandomColor: function() {\n\t\tvar letters = '0123456789';\n\t    var number = 'rgba(';\n\t    for (var i = 0; i < 3; i += 1 ) {\n\t        number += Math.floor(Math.random() * 255) + \",\";\n\t    }\n\t    number += \"0.4)\"\n\t    return number;\n\t},\n\tgetRandomArrayValue: function(array){\n\t\tvar choose = [];\n\n\t  for (var key in array) {\n\t    \tchoose.push(key);\n\t\t}\n\n\t\tvar arrayLength = choose.length;\n\t\treturn array[choose[Math.floor(Math.random() * arrayLength)]];\n\t},\n\tgetRandom: function(min, max) {\n\t\tvar x = Math.ceil(Math.random() * (max - min) + min);\n\t\tif (max == x) {\n\t\t\tx -= 1;\n\t\t}\n\t\treturn x;\n\t},\n\tgetFromWarmColors: function(){\n\t\tlet colors = [\"#8B8989\",\"#CDC9C9\",\"#EEE9E9\",\"#8B6969\",\"#856363\",\"#6F4242\",\"#BC8F8F\",\"#CD9B9B\",\"#8B3A3A\",\"#C67171\",\"#802A2A\",\"#CD5C5C\",\"#CD5555\",\"#A52A2A\",\"#8B2323\",\"#8E2323\",\"#A62A2A\",\"#CD3333\",\"#CC3232\",\"#EEB4B4\",\"#BE2625\",\"#8B1A1A\",\"#B22222\",\"#CD2626\",\"#DB2929\",\"#8C1717\",\"#F08080\",\"#EE6363\",\"#EE3B3B\",\"#EE2C2C\",\"#330000\",\"#660000\",\"#800000\",\"#8B0000\",\"#CD0000\",\"#EE0000\",\"#FF0000\",\"#FF3030\",\"#FF3333\",\"#FF4040\",\"#FF6666\",\"#FF6A6A\",\"#FFC1C1\",\"#FFCCCC\",\"#FFFAFA\",\"#A02422\",\"#C65D57\",\"#D44942\",\"#F2473F\",\"#E3170D\",\"#9D1309\",\"#CDB7B5\",\"#AF4035\",\"#ECC3BF\",\"#FC1501\",\"#CC1100\",\"#EED5D2\",\"#FA8072\",\"#FFE4E1\",\"#8B7D7B\",\"#D66F62\",\"#C75D4D\",\"#FF2400\",\"#8A3324\",\"#CD4F39\",\"#EE5C42\",\"#FF5333\",\"#FF6347\",\"#B0A6A4\",\"#8B3E2F\",\"#8B3626\",\"#CD5B45\",\"#EE6A50\",\"#FF7256\",\"#B3432B\",\"#D43D1A\",\"#F5785A\",\"#FF3300\",\"#FF3D0D\",\"#8B4C39\",\"#CD7054\",\"#C73F17\",\"#EE8262\",\"#FF8C69\",\"#A78D84\",\"#E9967A\",\"#FF5721\",\"#5E2612\",\"#E04006\",\"#8B2500\",\"#CD3700\",\"#EE4000\",\"#FF4500\",\"#FF7F50\",\"#8B5742\",\"#CD8162\",\"#EE9572\",\"#B13E0F\",\"#691F01\",\"#FFA07A\",\"#5C4033\",\"#D19275\",\"#A0522D\",\"#CD6839\",\"#8A360F\",\"#EE7942\",\"#FF7D40\",\"#FF8247\",\"#8B4726\",\"#DB9370\",\"#87421F\",\"#993300\",\"#F87531\",\"#292421\",\"#97694F\",\"#5E2605\",\"#FBA16C\",\"#FF6103\",\"#964514\",\"#E47833\",\"#FF7722\",\"#6B4226\",\"#5C3317\",\"#733D1A\",\"#FF6600\",\"#FF7216\",\"#FF9955\",\"#A68064\",\"#855E42\",\"#E9C2A6\",\"#CD661D\",\"#D2691E\",\"#8B4513\",\"#EE7621\",\"#FF7F24\",\"#FFF5EE\",\"#CDC5BF\",\"#EEE5DE\",\"#BC7642\",\"#603311\",\"#E3701A\",\"#C76114\",\"#FA9A50\",\"#8B8682\",\"#EE8833\",\"#FEE8D6\",\"#B6AFA9\",\"#8B7765\",\"#CDAF95\",\"#EECBAD\",\"#F4A460\",\"#FFDAB9\",\"#8B5A2B\",\"#B87333\",\"#EE9A49\",\"#AA5303\",\"#FFA54F\",\"#E7C6A5\",\"#CD853F\",\"#CD7F32\",\"#CC7F32\",\"#FAF0E6\",\"#CC7722\",\"#8B4500\",\"#CD6600\",\"#EE7600\",\"#FF8000\",\"#FF7F00\",\"#FFCC99\",\"#C9AF94\",\"#362819\",\"#B67C3D\",\"#C77826\",\"#E3A869\",\"#E38217\",\"#7B3F00\",\"#CDB79E\",\"#9F703A\",\"#EBCEAC\",\"#EBC79E\",\"#EDC393\",\"#E18E2E\",\"#C76E06\",\"#DD7500\",\"#FF8600\",\"#CDC0B0\",\"#8B7355\",\"#EED5B7\",\"#DFAE74\",\"#ED9121\",\"#FF8C00\",\"#FFE4C4\",\"#FFEFDB\",\"#8B7D6B\",\"#A39480\",\"#CDAA7D\",\"#D2B48C\",\"#EEDFCC\",\"#C48E48\",\"#DEB887\",\"#9C661F\",\"#EEC591\",\"#FAEBD7\",\"#D98719\",\"#FCE6C9\",\"#FF9912\",\"#FFD39B\",\"#8B8378\",\"#B28647\",\"#734A12\",\"#8B795E\",\"#CDB38B\",\"#EECFA1\",\"#DC8909\",\"#FCD59C\",\"#FEF0DB\",\"#AA6600\",\"#FFA824\",\"#FFC469\",\"#FFDEAD\",\"#FFEBCD\",\"#A67D3D\",\"#EED6AF\",\"#FFEFD5\",\"#FFA812\",\"#FFE4B5\",\"#8B7E66\",\"#8C7853\",\"#CDBA96\",\"#EED8AE\",\"#F5DEB3\",\"#FDF5E6\",\"#8B5A00\",\"#CD8500\",\"#EE9A00\",\"#FFA500\",\"#FFE7BA\",\"#D5B77A\",\"#8E6B23\",\"#AC7F24\",\"#FFAA00\",\"#FFB00F\",\"#FFFAF0\",\"#E8C782\",\"#F0A804\",\"#FCB514\",\"#FEE5AC\",\"#FFB90F\",\"#9D8851\",\"#DAA520\",\"#8B6914\",\"#CD9B1D\",\"#EEB422\",\"#8B6508\",\"#B8860B\",\"#CD950C\",\"#EEAD0E\",\"#FFC125\",\"#E6B426\",\"#EDCB62\",\"#E5BC3B\",\"#CDAB2D\",\"#FFCC11\",\"#E0DFDB\",\"#FFF8DC\",\"#C6C3B5\",\"#CDC8B1\",\"#EEE8CD\",\"#CFB53B\",\"#FCD116\",\"#FEF1B5\",\"#8B814C\",\"#CDBE70\",\"#EEDC82\",\"#FCDC3B\",\"#FFEC8B\",\"#8B8878\",\"#C5C1AA\",\"#E3CF57\",\"#EEDD82\",\"#8B7500\",\"#CDAD00\",\"#EEC900\",\"#FFD700\",\"#B5A642\",\"#FBDB0C\",\"#E2DDB5\",\"#F3E88E\",\"#FFE303\",\"#CDC9A5\",\"#EEE9BF\",\"#D6C537\",\"#F0E68C\",\"#FBEC5D\",\"#FFE600\",\"#FFFACD\",\"#615E3F\",\"#8B864E\",\"#CDC673\",\"#EEE8AA\",\"#EEE685\",\"#FFF68F\",\"#8B8970\",\"#BDB76B\",\"#E0D873\",\"#BAAF07\",\"#FFFCCF\",\"#CBCAB6\",\"#EEEB8D\",\"#7B7922\",\"#CECC15\",\"#3A3A38\",\"#8B8B83\",\"#8B8B7A\",\"#808069\",\"#CDCDC1\",\"#CDCDB4\",\"#D8D8BF\",\"#4F4F2F\",\"#9F9F5F\",\"#EEEEE0\",\"#777733\",\"#8E8E38\",\"#EEEED1\",\"#F5F5DC\",\"#EAEAAE\",\"#DBDB70\",\"#D9D919\",\"#FAFAD2\",\"#808000\",\"#8B8B00\",\"#CDCD00\",\"#CCCC00\",\"#EEEE00\",\"#FFFF00\",\"#FFFF7E\",\"#FFFFAA\",\"#FFFFCC\",\"#FFFFE0\",\"#FFFFF0\",\"#F4F776\",\"#CDD704\",\"#98A148\",\"#CFD784\",\"#D1E231\",\"#AEBB51\",\"#D0D2C4\",\"#A2BC13\",\"#B3C95A\",\"#859C27\",\"#CDE472\",\"#FCFFF0\",\"#C8F526\",\"#414F12\",\"#668014\",\"#AADD00\",\"#BCE937\",\"#54632C\",\"#8BA446\",\"#A2C93A\",\"#D4ED91\",\"#BEE554\",\"#9CCB19\",\"#A2C257\",\"#E8F1D4\",\"#698B22\",\"#79973F\",\"#6B8E23\",\"#99CC32\",\"#9ACD32\",\"#B3EE3A\",\"#C0FF3E\",\"#DFFFA5\",\"#556B2F\",\"#6E8B3D\",\"#A2CD5A\",\"#BCEE68\",\"#CAFF70\",\"#ADFF2F\"];\n\t\treturn this.getRandomArrayValue(colors);\n\t}\n};\n\n\n\n\n//# sourceURL=webpack://xmla/./js-src/services/toolsService.js?\n}");

/***/ }),

/***/ "./js-src/services/usersService.js":
/*!*****************************************!*\
  !*** ./js-src/services/usersService.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UsersService: () => (/* binding */ UsersService)\n/* harmony export */ });\n/* harmony import */ var _ajaxService_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ajaxService.js */ \"./js-src/services/ajaxService.js\");\n\n\nlet UsersService = {\n  postEmail: function(email, cb){\n    let data = new FormData();\n    data.append(\"email\", email);\n\n    _ajaxService_js__WEBPACK_IMPORTED_MODULE_0__.AjaxService.doAjaxPost(\"/user/in/\", data, function(data){\n\t\t\tlet userId = data.id;\n\t\t\tcb(userId)\n\t\t})\n\t},\n}\n\n\n\n\n//# sourceURL=webpack://xmla/./js-src/services/usersService.js?\n}");

/***/ }),

/***/ "./js-src/templater.js":
/*!*****************************!*\
  !*** ./js-src/templater.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Templater: () => (/* binding */ Templater)\n/* harmony export */ });\nclass Templater {\n\tstatic templates = {};\n\n\tstatic template = function(html, obj) {\t\n\t\tlet rhtml = html;\n\n\t\tfor (let k in obj) {\n\t\t\tlet opt = '---' + k + '---';\n\t\t\trhtml = rhtml.replace(opt, obj[k]);\n\t\t}\n\n\t\trhtml = rhtml.replace(\"------\", escape(JSON.stringify(obj)))\n\t\trhtml = rhtml.replaceAll(\"ssssss\", obj)\n\t\treturn rhtml;\n\t}\n\n\tstatic makeTemplates = function(templateselems){\n\t\tlet result = {};\n\t\t\n\t\tfor (let el of templateselems){\n\t\t\tresult[el.id] = el.innerHTML;\n\t\t}\n\n\t\tTemplater.templates = result;\n\t}\n}\n\n\n\n//# sourceURL=webpack://xmla/./js-src/templater.js?\n}");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./js-src/index.js");
/******/ 	
/******/ })()
;